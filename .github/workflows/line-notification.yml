name: Daily LINE Notification

on:
  schedule:
    # æ¯æ—¥ JST 9:00 (UTC 0:00) ã«å®Ÿè¡Œ
    - cron: '0 0 * * *'
  workflow_dispatch: # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

jobs:
  send-line-notification:
    runs-on: ubuntu-latest
    steps:
      - name: Send LINE Message
        run: |
          curl -X POST https://api.line.me/v2/bot/message/push \
            -H 'Content-Type: application/json' \
            -H "Authorization: Bearer ${{ secrets.LINE_CHANNEL_ACCESS_TOKEN }}" \
            -d '{
              "to": "${{ secrets.LINE_USER_ID }}",
              "messages": [
                {
                  "type": "text",
                  "text": "ğŸ«€ ä»Šæ—¥ã®ãƒ˜ãƒ«ã‚¹ã‚¹ã‚³ã‚¢ã¯ã“ã¡ã‚‰ï¼\nhttps://oshomadesse.github.io/health-score/"
                }
              ]
            }'
